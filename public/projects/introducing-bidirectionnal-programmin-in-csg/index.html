  <!doctype html>



  <html lang="en">
    <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="Liste - http://localhost:1313/">
    <title>Introducing Bidirectional Programming in Constructive Solid Geometry-Based CAD | J. Felipe Gonzalez, Ph.D.</title>
    <meta name="description" content="Hola! This is me, Felipe Gonzalez...">
    <meta property="og:url" content="http://localhost:1313/projects/introducing-bidirectionnal-programmin-in-csg/">
  <meta property="og:site_name" content="J. Felipe Gonzalez, Ph.D.">
  <meta property="og:title" content="Introducing Bidirectional Programming in Constructive Solid Geometry-Based CAD">
  <meta property="og:description" content="Programming-based CAD applications are powerful, but they come with challenges. Unlike traditional drag-and-drop interfaces, scripting in tools like OpenSCAD can be frustrating, especially when trying to locate specific parts of the model in the code or move an element in 3D space.
In this project, I introduced bidirectional programming for Constructive Solid Geometry (CSG) CAD tools. This approach lets you seamlessly switch between coding and the 3D view, allowing for easy navigation and editing.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="projects">
    <meta property="article:published_time" content="2020-11-01T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-09-06T09:04:40-05:00">
    <meta property="article:tag" content="HCI">
    <meta property="article:tag" content="CAD">
    <meta property="article:tag" content="OpenSCAD">

    
  <meta itemprop="name" content="Introducing Bidirectional Programming in Constructive Solid Geometry-Based CAD">
  <meta itemprop="description" content="Programming-based CAD applications are powerful, but they come with challenges. Unlike traditional drag-and-drop interfaces, scripting in tools like OpenSCAD can be frustrating, especially when trying to locate specific parts of the model in the code or move an element in 3D space.
In this project, I introduced bidirectional programming for Constructive Solid Geometry (CSG) CAD tools. This approach lets you seamlessly switch between coding and the 3D view, allowing for easy navigation and editing.">
  <meta itemprop="datePublished" content="2020-11-01T00:00:00+00:00">
  <meta itemprop="dateModified" content="2024-09-06T09:04:40-05:00">
  <meta itemprop="wordCount" content="1067">
  <meta itemprop="keywords" content="HCI,CAD,OpenSCAD">
    
  


    <link rel="canonical" href="http://localhost:1313/projects/introducing-bidirectionnal-programmin-in-csg/">
    <link rel="icon" href="http://localhost:1313//assets/favicon.ico">
    <link rel="dns-prefetch" href="https://www.google-analytics.com">
    <link href="https://www.google-analytics.com" rel="preconnect" crossorigin>
    <link rel="alternate" type="application/atom+xml" title="J. Felipe Gonzalez, Ph.D." href="http://localhost:1313//atom.xml" />
    <link rel="alternate" type="application/json" title="J. Felipe Gonzalez, Ph.D." href="http://localhost:1313//feed.json" />
    <link rel="shortcut icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNk+A8AAQUBAScY42YAAAAASUVORK5CYII=">
    
    
    <style>*,:after,:before{box-sizing:border-box;padding:0}body{font:1rem/1.5 '-apple-system',BlinkMacSystemFont,avenir next,avenir,helvetica,helvetica neue,ubuntu,roboto,noto,segoe ui,arial,sans-serif;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;padding:2rem;background:#f5f5f5;color:#000}.skip-link{position:absolute;top:-40px;left:0;background:#eee;z-index:100}.skip-link:focus{top:0}header{line-height:2;padding-bottom:1.5rem}.link{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-decoration:none}.time{font-variant-numeric:tabular-nums;white-space:nowrap}blockquote{border-left:5px solid #eee;padding-left:1rem;margin:0}a,a:visited{color:inherit}a:hover,a.heading-link{text-decoration:none}pre{padding:.5rem;overflow:auto;overflow-x:scroll;overflow-wrap:normal}code,pre{font-family:San Francisco Mono,Monaco,consolas,lucida console,dejavu sans mono,bitstream vera sans mono,monospace;font-size:normal;font-size:small;background:#eee}code{margin:.1rem;border:none}ul{list-style-type:square}ul,ol{padding-left:1.2rem}.list{line-height:2;list-style-type:none;padding-left:0}.list li{padding-bottom:.1rem}.meta{color:#777}.content{max-width:80ch;margin:0 auto}header{line-height:2;display:flex;justify-content:space-between;padding-bottom:1rem}header a{text-decoration:none}header ul{list-style-type:none;padding:0}header li,header a{display:inline}h2.post{padding-top:.5rem}header ul a:first-child{padding-left:1rem}.nav{height:1px;background:#000;content:'';max-width:10%}.list li{display:flex;align-items:baseline}.list li time{flex:initial}.hr-list{margin-top:0;margin-bottom:0;margin-right:.5rem;margin-left:.5rem;height:1px;border:0;border-bottom:1px dotted #ccc;flex:1 0 1rem}.m,hr{border:0;margin:3rem 0}img{max-width:100%;height:auto}.post-date{margin:5% 0}.index-date{color:#9a9a9a}.animate-blink{animation:opacity 1s infinite;opacity:1}@keyframes opacity{0%{opacity:1}50%{opacity:.5}100%{opacity:0}}.tags{display:flex;justify-content:space-between}.tags ul{padding:0;margin:0}.tags li{display:inline}.avatar{height:120px;width:120px;position:relative;margin:-10px 0 0 15px;float:right;border-radius:50%}.social-links{text-align:center;margin-top:10px}.social-links a{margin:0 15px;color:inherit;text-decoration:none}.social-links i{font-size:2em}table{width:100%;border-collapse:collapse}th,td{border:1px solid #ddd;text-align:left;padding:8px}th{background-color:#f2f2f2} </style>
  
    
  
  
  <script type="application/ld+json">
  {
      "@context": "http://schema.org",
      "@type": "BlogPosting",
      "articleSection": "projects",
      "name": "Introducing Bidirectional Programming in Constructive Solid Geometry-Based CAD",
      "headline": "Introducing Bidirectional Programming in Constructive Solid Geometry-Based CAD",
      "alternativeHeadline": "",
      "description": "Programming-based CAD applications are powerful, but they come with challenges. Unlike traditional drag-and-drop interfaces, scripting in tools like OpenSCAD can be frustrating, especially when trying to locate specific parts of the model in the code or move an element in 3D space.\nIn this project, I introduced bidirectional programming for Constructive Solid Geometry (CSG) CAD tools. This approach lets you seamlessly switch between coding and the 3D view, allowing for easy navigation and editing.",
      "inLanguage": "en-us",
      "isFamilyFriendly": "true",
      "mainEntityOfPage": {
          "@type": "WebPage",
          "@id": "http:\/\/localhost:1313\/projects\/introducing-bidirectionnal-programmin-in-csg\/"
      },
      "author" : {
          "@type": "Person",
          "name": ""
      },
      "creator" : {
          "@type": "Person",
          "name": ""
      },
      "accountablePerson" : {
          "@type": "Person",
          "name": ""
      },
      "copyrightHolder" : "J. Felipe Gonzalez, Ph.D.",
      "copyrightYear" : "2020",
      "dateCreated": "2020-11-01T00:00:00.00Z",
      "datePublished": "2020-11-01T00:00:00.00Z",
      "dateModified": "2024-09-06T09:04:40.12Z",
      "publisher":{
          "@type":"Organization",
          "name": "J. Felipe Gonzalez, Ph.D.",
          "url": "http://localhost:1313/",
          "logo": {
              "@type": "ImageObject",
              "url": "http:\/\/localhost:1313\/assets\/imgJFGA.jpg",
              "width":"32",
              "height":"32"
          }
      },
      "image": "http://localhost:1313/assets/imgJFGA.jpg",
      "url" : "http:\/\/localhost:1313\/projects\/introducing-bidirectionnal-programmin-in-csg\/",
      "wordCount" : "1067",
      "genre" : [ "HCI" , "CAD" , "OpenSCAD" ],
      "keywords" : [ "HCI" , "CAD" , "OpenSCAD" ]
  }
  </script>
  
  
  
  </head>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" crossorigin="anonymous">
    
    <link rel="stylesheet" href="http://localhost:1313/projects/css/custom.min.a19c3679d285284dbf02b64072a3c153bd48caf3997064212dfc9c50ecd18141.css">
  <body>
    <a class="skip-link" href="#main">Skip to main</a>
    <main id="main">
    <div class="content">
      <header>
<p style="padding: 0;margin: 0;">
  <a href="http://localhost:1313/">
    <b>J. Felipe Gonzalez, Ph.D.</b>
    <span class="text-stone-500 animate-blink">▮</span>
  </a>
</p>
<ul style="padding: 0;margin: 0;">
  
  
  <li class="">
    <a href="/publications/"><span>Publications</span></a>
    
  <li class="">
    <a href="/projects/"><span>Projects</span></a>
    
  </li>
</ul>
</header>
<hr class="hr-list" style="padding: 0;margin: 0;">
      <section>
        <h1>Introducing Bidirectional Programming in Constructive Solid Geometry-Based CAD</h1>
        
          <small style="font-style:italic; color:darkgrey">Last Updated: Sep 6, 2024</small>
        

        <p>Programming-based CAD applications are powerful, but they come with challenges. Unlike traditional drag-and-drop interfaces, scripting in tools like OpenSCAD can be frustrating, especially when trying to locate specific parts of the model in the code or move an element in 3D space.</p>
<p>In this project, I introduced bidirectional programming for Constructive Solid Geometry (CSG) CAD tools. This approach lets you seamlessly switch between coding and the 3D view, allowing for easy navigation and editing. Imagine editing your 3D model through code or direct manipulation, with the system keeping everything in sync.</p>
<p>I developed a proof-of-concept for <a href="https://openscad.org/" target="_blank">OpenSCAD</a>, addressing two key issues: code navigation and simple spatial transformations. This method links code changes directly with visual updates, making model interaction more intuitive. A detailed walkthrough demonstrates how these features simplify complex design tasks.</p>
<p>Feedback has been positive—users find the bidirectional programming concept both intriguing and practical. While there’s room for improvement, this work lays the groundwork for more intuitive and efficient 3D CAD tools.</p>
<h1 id="bidirectional-programming-in-constructive-solid-geometry-based-cad">Bidirectional Programming in Constructive Solid Geometry-Based CAD</h1>
<p>I aimed to introduce the concept of <em>Bidirectional Programming</em> in programming-based CAD thorugh a proof-of-concept developed in OpenSCAD. Specifically, I have integrated navigation and editing features through interactions with the view.</p>
<h2 id="getting-started">Getting started</h2>
<p>The process of making the code and issuing a pull request on the OpenSCAD repository is on the way. In the mean while, we have a beta version for <strong>MacOS</strong> devices available in the next <a href="https://nextcloud.univ-lille.fr/index.php/s/4D8aa9L6JE5rTDp">link</a>.</p>
<h3 id="start-the-application">Start the application</h3>
<p>This version of OpenSCAD is under development and it does not have a Developer ID certificate. Thus, when you try to run it, a warning message indicates that the system can not open the application because it cannot confirm the developer’s identity (Fig. 1).</p>
<div class="image-container">
  <div class="image-item">
      <img style= "max-width: 300px "src="/imgs/projects/pr_facilitating/spr1_introducing/imgNoOpen.png" alt="Fig1. Error message when starting the app">
    <p>Fig1. Error message when starting the app</p>
  </div>
</div>
<p>You can do a secondary click (typically a two fingers tap or a right click). The system will display an options list. Select the option “Open” (Fig. 2). A pop-up will appear asking for confirmation of this action. Confirm by pressing the “Open” button.</p>
<div class="image-container">
  <div class="image-item">
      <img style= "max-width: 250px "src="/imgs/projects/pr_facilitating/spr1_introducing/imgRightClick.png" alt="Fig 2. Secondary click on the app to open it">
    <p>Fig 2. Secondary click on the app to open it</p>
  </div>
  <div class="image-item">
      <img style= "max-width: 250px "src="/imgs/projects/pr_facilitating/spr1_introducing/imgO.png" alt="Fig 3. Click on open button">
    <p>Fig 3. Click on open button</p>
  </div>
</div>
<p>You will see the normal OpenSCAD interface.</p>
<h1 id="bidirectional-programming-features">Bidirectional Programming Features</h1>
<p>I have implemented two sets of features: Navigation and Editing. Please activate both features before start</p>
<h2 id="activating">Activating</h2>
<p>Typically, the settings for editing from the view are set by default. You should see at the bottom of the View Area three new buttons: <code>Translate</code>, <code>Rotate</code>, and <code>Scale</code>. If not, go to <code>settings -&gt; editor</code>. Scroll down and find the options <code>Enable direct manipulation</code> and <code>Highlight Edges when you select an object</code>. Check them. If they are already checked, uncheck them, and recheck them. The system should have placed the buttons previously mentioned in the view area.</p>
<div class="image-container">
  <div class="image-item">
      <img style= "max-width: 450px "src="/imgs/projects/pr_facilitating/spr1_introducing/settings-1.png" alt="Fig 4. Enabling direct manipulation on settings window, editor tab.">
    <p>Fig 4. Enabling direct manipulation on settings window, editor tab.</p>
  </div>
</div>
<h2 id="navigation">Navigation</h2>
<p>I developed a series of features to assist users in understanding how the code is related to the elements in the view.</p>
<h2 id="reverse-search">Reverse search</h2>
<p>The original version of OpenSCAD allows right-clicking on the view elements to display a list of the code statements contributing to creating that part. In our OpenSCAD version, when you hover over the different items on the list, the system will mark that element as <em><strong>the target</strong></em>. The program colors green the edges of the target. It also highlights the code statement, including its scope, that creates the target in the same color. The system highlights in green the code statements of the call stack involved in the target. It adds a number on the editor’s margins to follow the target’s stack order.</p>
 <div class="image-container">
  <div class="image-item">
      <img style= "max-width: 750px "src="/imgs/projects/pr_facilitating/spr1_introducing/navigating-1536x960.png" alt="Fig 5. Selecting an object after right-clicking on it. Users can hover over the items in the list while the system shows visual feedback connecting the code with the view.">
    <p>Fig 5. Selecting an object after right-clicking on it. Users can hover over the items in the list while the system shows visual feedback connecting the code with the view.</p>
  </div>
</div>
<p>Suppose the code statement of the target creates other elements in the view (for instance, a code statement inside a loop or in a module instantiated several times). In that case, these elements are marked as <em><strong>impacted</strong></em>. The system colors pink the edges of impacted elements in the view. Consequently, the code statements in the editor are colored pink. If the target part is created by a difference or an intersect statement, the system adds colored ghosts of the removed part in the target and impacted elements. The user can now right-click on the ghost to explore their code, just like the other parts.</p>
<h2 id="forward-search">Forward search</h2>
<p>The user can also search elements from the code editor. By selecting at least two text characters and pressing the key <code>F1</code>, the system will locate the parts in the view created by the code statement. If only one, the system will mark the part as the target. Otherwise, all elements will be marked as impacted. If the user selects the text of variable definitions, the system will find all the elements impacted by the variable and will mark the impacted. The system will color the edges, create ghosts, and highlight the code, as it is described in the reverse search.</p>
<h1 id="editing">Editing</h1>
<p>The system allows users to perform some edits directly from the view.</p>
<h2 id="performing-edits">Performing edits</h2>
<p>To edit the view, you must first select the element you want to edit. You can do it by marking an element as a target using the Reverse search feature explained previously. Then, you can select between the three available buttons to perform the spatial edits of <em>Translate</em>, <em>Rotate</em>, and <em>Scale</em>.</p>
 <div class="image-container">
  <div class="image-item">
      <img style= "max-width: 750px "src="/imgs/projects/pr_facilitating/spr1_introducing/rotateActivate-1024x640.png" alt="Fig 6. After selecting an element, press the operation button at the right bottom of the view area. In this case Rotate button">
    <p>Fig 6. After selecting an element, press the operation button at the right bottom of the view area. In this case Rotate button</p>
  </div>
</div>
<p>After clicking, the system places a widget representing the three axes (X,Y, and Z) in the center of the target object. You must select the axis you want to edit by clicking on it. The widget will turn opaque purple, indicating you are in editing mode.</p>
 <div class="image-container">
  <div class="image-item">
      <img style= "max-width: 750px "src="/imgs/projects/pr_facilitating/spr1_introducing/rotateAxisSelected-1024x640.png" alt="Fig 7. Click the widget of the axis you want to modify. The purple color indicates you are in editing mode">
    <p>Fig 7. Click the widget of the axis you want to modify. The purple color indicates you are in editing mode</p>
  </div>
</div>
<h2 id="limitations">Limitations</h2>
<p>This is a project in development and as such it has some limitations. We are currently working to partially integratint this features in OpenSCAD.</p>
<h3 id="only-one-file-models">Only one-file models</h3>
<p>Currently, interactive features ONLY work with models scripted in one file</p>
<h3 id="constraints-editing-not-supported-yet">Constraints editing not supported… yet</h3>
<p>Currently, the system does not support making edits on statements with variable-based constraints. When trying to edit one, the system will not perform any action.</p>
<h3 id="previous-versions">Previous versions</h3>
<p>For checking previous versions visit this <a href="https://nextcloud.univ-lille.fr/index.php/s/5mpHrFtfbrMGDS4">link</a>.</p>


        
        
        
        <h2>Related Publications</h2>
        
        <ul>
           
          
             
            
          
             
            
          
             
            
               
              <li>
                <a href="http://localhost:1313/publications/introducing-bidirectional-programming-in-constructive-solid-geometry-based-cad/">[1] J. Felipe Gonzalez, Danny Kieken, Thomas Pietrzak, Audrey Girouard, and Géry Casiez. 2023. Introducing Bidirectional Programming in Constructive Solid Geometry-Based CAD. In Proceedings of the 2023 ACM Symposium on Spatial User Interaction (SUI &#39;23). Association for Computing Machinery, New York, NY, USA, Article 13, 1–12. https://doi.org/10.1145/3607822.3614521</a>
              </li>
            
          
             
            
          
             
            
          
             
            
          
             
            
          
             
            
          
        </ul>
      

        
        <div class="post-date">
          <span class="g time">November 1, 2020 </span> &#8729;
           
           <a href="http://localhost:1313/tags/hci/">hci</a> <a href="http://localhost:1313/tags/cad/">cad</a> <a href="http://localhost:1313/tags/openscad/">openscad</a>
        </div>
        
        
      </section>
       
    </div>
  </main>
  </body>
  </html>
